(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{1969:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var r=s(6384);let n={plan:"free",expiresAt:null};function a(){let[e,t,s]=(0,r.M)("besta-vekterpreven-subscription",n),a="free"!==e.plan&&!!e.expiresAt&&new Date(e.expiresAt)>new Date,l=a&&e.expiresAt?Math.max(0,Math.ceil((new Date(e.expiresAt).getTime()-Date.now())/864e5)):0;return{subscription:e,isLoaded:s,isActive:a,activate:e=>{let s=new Date(new Date);"weekly"===e?s.setDate(s.getDate()+7):s.setMonth(s.getMonth()+1),t({plan:e,expiresAt:s.toISOString()})},daysRemaining:l,freeLimit:3}}},8294:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5155),n=s(2115),a=s(2619),l=s.n(a),i=s(8642),d=s(2196),c=s(4269),o=s(1483),m=s(9955),u=s(1969);function x(){let{progress:e,isLoaded:t,removeWrongAnswer:s}=(0,m.p)(),{isActive:a}=(0,u.R)(),x=(0,n.useMemo)(()=>(0,i.cB)(),[]),[b,p]=(0,n.useState)("overview"),[h,f]=(0,n.useState)(0),[g,j]=(0,n.useState)(),[v,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(new Set),[S,y]=(0,n.useState)(0),I=(0,n.useMemo)(()=>{var t;let s=null!=(t=e.wrongQuestionIds)?t:[];if(0===s.length)return[];let r=new Set(s);return(0,c.R3)(x.filter(e=>r.has(e.id)))},[e.wrongQuestionIds,x,S]),D=(0,n.useMemo)(()=>{let e={};for(let s of I){if(!e[s.subjectId]){var t;let r=(0,d.B)(s.subjectId);e[s.subjectId]={name:null!=(t=null==r?void 0:r.name)?t:s.subjectId,count:0}}e[s.subjectId].count++}return Object.entries(e).sort((e,t)=>t[1].count-e[1].count)},[I]),O=I[h],M=(0,n.useCallback)(e=>{!v&&O&&(j(e),N(!0),e===O.correctOptionId&&(s(O.id),k(e=>new Set(e).add(O.id))))},[v,O,s]),C=(0,n.useCallback)(()=>{h<I.length-1?(f(e=>e+1),j(void 0),N(!1)):(p("overview"),f(0),j(void 0),N(!1),y(e=>e+1))},[h,I.length]),F=(0,n.useCallback)(()=>{p("practice"),f(0),j(void 0),N(!1),k(new Set),y(e=>e+1)},[]);if(!t)return(0,r.jsx)("div",{className:"mx-auto max-w-2xl px-4 py-12 text-center",children:(0,r.jsx)("p",{className:"text-surface-700",children:"Laster..."})});if("practice"===b&&I.length>0&&O){let e=(0,d.B)(O.subjectId);return(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("button",{onClick:()=>p("overview"),className:"text-sm text-brand-600 hover:text-brand-700",children:"← Tilbake til feilbank"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-surface-900 mt-2",children:"Feilbank — Repeteringsmodus"}),e&&(0,r.jsxs)("p",{className:"text-sm text-surface-600 mt-1",children:["Emne: ",e.name]})]}),v&&g===O.correctOptionId&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-success-50 border border-success-200 rounded-lg text-sm text-success-700",children:"Riktig! Sp\xf8rsm\xe5let er fjernet fra feilbanken."}),(0,r.jsx)(o.x,{question:O,mode:"practice",questionNumber:h+1,totalQuestions:I.length,selectedOptionId:g,showResult:v,onSelectOption:M,onNext:C})]})}return(0,r.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-surface-900 mb-2",children:"Feilbank"}),(0,r.jsx)("p",{className:"text-surface-700 mb-8",children:"Her samles sp\xf8rsm\xe5lene du har svart feil p\xe5. \xd8v i repeteringsmodus til du mestrer dem — sp\xf8rsm\xe5l fjernes automatisk n\xe5r du svarer riktig."}),w.size>0&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-success-50 border border-success-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-success-700 font-medium",children:["Du svarte riktig p\xe5 ",w.size," sp\xf8rsm\xe5l i forrige runde!",I.length>0?" ".concat(I.length," gjenst\xe5r."):" Feilbanken er tom — flott jobbet!"]})}),!a&&I.length>0&&(0,r.jsxs)("div",{className:"mb-6 bg-brand-50 border border-brand-200 rounded-xl p-6 text-center",children:[(0,r.jsx)("h3",{className:"font-semibold text-brand-800 mb-2",children:"Feilbanken krever abonnement"}),(0,r.jsxs)("p",{className:"text-sm text-brand-700 mb-4",children:["Du har ",I.length," sp\xf8rsm\xe5l i feilbanken. Oppgrader for \xe5 \xf8ve p\xe5 dem i repeteringsmodus."]}),(0,r.jsx)(l(),{href:"/betaling",className:"inline-flex items-center justify-center px-6 py-3 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"Se priser og oppgrader"})]}),0===I.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-surface-200 p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-surface-900 mb-2",children:"Ingen sp\xf8rsm\xe5l i feilbanken"}),(0,r.jsx)("p",{className:"text-surface-700 mb-6",children:"Feilbanken fylles automatisk opp n\xe5r du svarer feil p\xe5 sp\xf8rsm\xe5l under \xf8ving. Start med \xe5 \xf8ve p\xe5 et emne."}),(0,r.jsx)(l(),{href:"/ovelse",className:"inline-flex items-center justify-center px-6 py-3 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"G\xe5 til \xf8ving"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-surface-200 p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-surface-900",children:[I.length," sp\xf8rsm\xe5l \xe5 \xf8ve p\xe5"]}),a?(0,r.jsx)("button",{onClick:F,className:"px-5 py-2.5 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"Start repeteringsmodus"}):(0,r.jsx)(l(),{href:"/betaling",className:"px-5 py-2.5 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"Oppgrader"})]}),(0,r.jsx)("p",{className:"text-sm text-surface-600",children:"Svar riktig for \xe5 fjerne sp\xf8rsm\xe5let fra feilbanken. Sp\xf8rsm\xe5l du fortsatt svarer feil p\xe5 blir v\xe6rende til du mestrer dem."})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-surface-900 mb-3",children:"Fordelt per emne"}),(0,r.jsx)("div",{className:"space-y-2",children:D.map(e=>{let[t,{name:s,count:n}]=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-surface-200 px-4 py-3 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-surface-900 font-medium",children:s}),(0,r.jsxs)("span",{className:"text-sm text-surface-600 bg-surface-100 px-3 py-1 rounded-full",children:[n," ","sp\xf8rsm\xe5l"]})]},t)})})]})]})}},8979:(e,t,s)=>{Promise.resolve().then(s.bind(s,8294))}},e=>{e.O(0,[619,655,441,255,358],()=>e(e.s=8979)),_N_E=e.O()}]);