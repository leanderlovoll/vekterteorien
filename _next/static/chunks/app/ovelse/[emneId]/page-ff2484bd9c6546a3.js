(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}})},1941:(e,t,s)=>{Promise.resolve().then(s.bind(s,3646))},1969:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var r=s(6384);let a={plan:"free",expiresAt:null};function n(){let[e,t,s]=(0,r.M)("besta-vekterpreven-subscription",a),n="free"!==e.plan&&!!e.expiresAt&&new Date(e.expiresAt)>new Date,l=n&&e.expiresAt?Math.max(0,Math.ceil((new Date(e.expiresAt).getTime()-Date.now())/864e5)):0;return{subscription:e,isLoaded:s,isActive:n,activate:e=>{let s=new Date(new Date);"weekly"===e?s.setDate(s.getDate()+7):s.setMonth(s.getMonth()+1),t({plan:e,expiresAt:s.toISOString()})},daysRemaining:l,freeLimit:3}}},3646:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(5155),a=s(2115),n=s(63),l=s(2619),c=s.n(l),i=s(8642),o=s(2196),d=s(4269),x=s(1483);function m(e){let{score:t,correct:s,total:a,subjectName:n,onRetry:l}=e,i=t>=80;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-surface-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:(0,d.cn)("p-8 text-center",i?"bg-success-50":"bg-error-50"),children:[(0,r.jsx)("h2",{className:(0,d.cn)("text-3xl font-bold mb-2",i?"text-success-700":"text-error-700"),children:i?"Gratulerer!":"Ikke best\xe5tt"}),(0,r.jsx)("p",{className:(0,d.cn)("text-lg",i?"text-success-600":"text-error-600"),children:i?"Du bestod denne \xf8velsen!":"Du trenger 80 % for \xe5 best\xe5. Fortsett \xe5 \xf8ve!"})]}),(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsxs)("div",{className:"relative w-40 h-40",children:[(0,r.jsxs)("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 120 120",children:[(0,r.jsx)("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-surface-200"}),(0,r.jsx)("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*52),strokeDashoffset:"".concat(2*Math.PI*52*(1-t/100)),className:(0,d.cn)("transition-all duration-1000",i?"text-success-500":"text-error-500")})]}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,r.jsxs)("span",{className:(0,d.cn)("text-4xl font-bold",i?"text-success-700":"text-error-700"),children:[t,"%"]}),(0,r.jsxs)("span",{className:"text-sm text-surface-700",children:[s," av ",a]})]})]})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-surface-700",children:"Din score"}),(0,r.jsx)("span",{className:"text-surface-700",children:"Krav: 80 %"})]}),(0,r.jsxs)("div",{className:"h-3 bg-surface-200 rounded-full overflow-hidden relative",children:[(0,r.jsx)("div",{className:(0,d.cn)("h-full rounded-full transition-all duration-1000",i?"bg-success-500":"bg-error-500"),style:{width:"".concat(t,"%")}}),(0,r.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-surface-900",style:{left:"80%"}})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l&&(0,r.jsx)("button",{onClick:l,className:"px-6 py-3 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"Pr\xf8v igjen"}),(0,r.jsx)(c(),{href:"/ovelse",className:"px-6 py-3 border border-surface-300 text-surface-700 font-medium rounded-lg hover:bg-surface-100 transition-colors text-center",children:"Velg annet emne"}),n&&(0,r.jsx)(c(),{href:"/statistikk",className:"px-6 py-3 border border-surface-300 text-surface-700 font-medium rounded-lg hover:bg-surface-100 transition-colors text-center",children:"Se statistikk"})]})]})]})}var u=s(9955),h=s(1969);function f(){var e;let t=(0,n.useParams)(),s=null!=(e=null==t?void 0:t.emneId)?e:"",l=(0,o.B)(s),{addQuizResult:f,addWrongAnswer:b}=(0,u.p)(),{isActive:p,freeLimit:v}=(0,h.R)(),[g,j]=(0,a.useState)(0),[N,k]=(0,a.useState)(),[w,y]=(0,a.useState)(!1),[D,O]=(0,a.useState)({}),[P,S]=(0,a.useState)(!1),[M,I]=(0,a.useState)(0),C=(0,a.useMemo)(()=>(0,d.R3)((0,i.$G)(s)),[s,M]),A=(0,a.useMemo)(()=>p?C:C.slice(0,v),[C,p,v]),_=!p&&C.length>v,R=A[g],E=(0,a.useCallback)(e=>{if(w)return;k(e),y(!0);let t=e===R.correctOptionId;O(s=>({...s,[R.id]:{selected:e,correct:t}})),t||b(R.id)},[w,R,b]),T=(0,a.useCallback)(()=>{g<A.length-1?(j(e=>e+1),k(void 0),y(!1)):(f(s,Object.values({...D,[R.id]:{selected:N,correct:N===R.correctOptionId}}).filter(e=>e.correct).length,A.length),S(!0))},[g,A.length,D,R,N,f,s]),G=(0,a.useCallback)(()=>{j(0),k(void 0),y(!1),O({}),S(!1),I(e=>e+1)},[]);if(!l)return(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-12 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-surface-900 mb-4",children:"Emne ikke funnet"}),(0,r.jsx)(c(),{href:"/ovelse",className:"text-brand-600 hover:text-brand-700",children:"Tilbake til emneoversikten"})]});if(0===A.length)return(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-12 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-surface-900 mb-4",children:"Ingen sp\xf8rsm\xe5l tilgjengelig"}),(0,r.jsx)("p",{className:"text-surface-700 mb-4",children:"Det er dessverre ingen sp\xf8rsm\xe5l for dette emnet enn\xe5."}),(0,r.jsx)(c(),{href:"/ovelse",className:"text-brand-600 hover:text-brand-700",children:"Tilbake til emneoversikten"})]});if(P){let e=Object.values(D).filter(e=>e.correct).length,t=Math.round(e/A.length*100);return(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,r.jsx)(m,{score:t,correct:e,total:A.length,subjectName:l.name,onRetry:G}),_&&(0,r.jsxs)("div",{className:"mt-6 bg-brand-50 border border-brand-200 rounded-xl p-6 text-center",children:[(0,r.jsxs)("h3",{className:"font-semibold text-brand-800 mb-2",children:["Du pr\xf8vde ",v," av ",C.length," sp\xf8rsm\xe5l"]}),(0,r.jsx)("p",{className:"text-sm text-brand-700 mb-4",children:"Oppgrader for \xe5 f\xe5 tilgang til alle sp\xf8rsm\xe5l i dette emnet og resten av nettsiden."}),(0,r.jsx)(c(),{href:"/betaling",className:"inline-flex items-center justify-center px-6 py-3 bg-brand-600 text-white font-medium rounded-lg hover:bg-brand-700 transition-colors",children:"Se priser og oppgrader"})]})]})}return(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(c(),{href:"/ovelse",className:"text-sm text-brand-600 hover:text-brand-700",children:"← Tilbake til emner"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-surface-900 mt-2",children:l.name}),_&&(0,r.jsxs)("p",{className:"text-sm text-surface-600 mt-1",children:["Gratis smakebit — ",v," av ",C.length," sp\xf8rsm\xe5l."," ",(0,r.jsx)(c(),{href:"/betaling",className:"text-brand-600 hover:text-brand-700 font-medium",children:"Oppgrader for alle"})]})]}),(0,r.jsx)(x.x,{question:R,mode:"practice",questionNumber:g+1,totalQuestions:A.length,selectedOptionId:N,showResult:w,onSelectOption:E,onNext:T})]})}}},e=>{e.O(0,[619,655,441,255,358],()=>e(e.s=1941)),_N_E=e.O()}]);